subprojects {
	repositories {
		mavenCentral()
	}
	version = '0.4-SNAPSHOT'
}



task dist(type: Zip, dependsOn: [':sham:javadoc', ':sham:jar', 'doc/guide:compileManual']) {
    def shamProject = project(':sham')
    def docProject = project(':doc/guide')
    archiveName = "$buildDir/sham-${shamProject.version}.zip"
    def archiveBaseDir = "sham-${shamProject.version}"

    from(projectDir) {
        include "LICENSE"
        into archiveBaseDir
    }
    from(new File(projectDir, 'doc/dist')) {
        include "README.TXT"
        into archiveBaseDir
    }
    from(new File(shamProject.buildDir, 'libs')) {
        include "sham-${shamProject.version}.jar"
        into archiveBaseDir
    }
    from(new File(shamProject.projectDir, 'src/main')) {
        include '**/*'
        into "$archiveBaseDir/src"
    }
    from(new File(shamProject.buildDir, 'docs/javadoc')) {
        include '**/*'
        into "$archiveBaseDir/doc/api"
    }
    from(new File(docProject.buildDir, "manual-compiled")) {
        include '**/*'
        into "$archiveBaseDir/doc/guide"
    }
}

task wrapper(type: Wrapper) {
	gradleVersion = '1.8'
}