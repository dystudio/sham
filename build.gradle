subprojects {
	repositories {
		mavenCentral()
	}
	version = '0.3-SNAPSHOT'
}



task dist(type: Zip, dependsOn: [':sham:javadoc', ':sham:jar', 'doc/guide:compileManual']) {
    def shamProject = project(':sham')
    def docProject = project(':doc/guide')
    archiveName = "$buildDir/sham-${shamProject.version}.zip"

    from(projectDir) {
        include "LICENSE"
    }
    from(new File(shamProject.buildDir, 'libs')) {
        include "sham-${shamProject.version}.jar"
    }
    from(new File(shamProject.projectDir, 'src/main')) {
        include '**/*'
        into 'src'
    }
    from(new File(shamProject.buildDir, 'docs/javadoc')) {
        include '**/*'
        into 'doc/api'
    }
    from(new File(docProject.buildDir, "manual-compiled")) {
        include '**/*'
        into "doc/guide"
    }
}
